% ===============================================================
% Feuille de style LaTeX pour le cours de logique 1ère à l'ESI
% ===============================================================

% ===================================================
%   Les gros éléments de mise en page
% ===================================================

% Spécifie que les fichiers sources sont codés en UTF8
% http://www.ctan.org/pkg/inputenc
% ----------------------------------------------------
\usepackage[utf8]{inputenc}

% Francisation des textes
% http://en.wikibooks.org/wiki/LaTeX/Internationalization#Babel
% -------------------------------------------------------------
\usepackage[francais]{babel}
\usepackage[T1]{fontenc}		% Permet de taper des accents

% Plus belles polices vectorielles que computer roman
% http://www.tug.dk/FontCatalogue/lmodern/
% -------------------------------------------------------------
\usepackage{lmodern}			

% Régler les marges des pages
% http://www.ctan.org/pkg/geometry
% vmargin: 1cm de plus automatique
% -------------------------------------------------------------
\usepackage[hmargin=4cm,vmargin=3cm,footskip=4\baselineskip]{geometry}

% Enlever l'indentation de chaque première ligne de paragraphe
% + legèr espace entre les paragraphes.
% http://www.ctan.org/pkg/parskip
% -------------------------------------------------------------
\usepackage{parskip}

% Permet d'avoir des couleurs
% usenames et dvipsnames pour noms prédéfinis
% http://www.ctan.org/pkg/xcolor
% -------------------------------------------------------------
\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}

% Permet de barrer, souligner, ...
% Pour barrer : \sout{texte}
% -------------------------------------------------------------
\usepackage[normalem]{ulem}

% Gestion des images.
% http://www.ctan.org/pkg/graphicx
% -------------------------------------------------------------
\usepackage{graphicx}

% Hyperliens et URL
% http://www.ctan.org/pkg/hyperref
% -------------------------------------------------------------
\usepackage{hyperref}
\hypersetup{
  colorlinks = true,  % Colours links instead of ugly boxes
  urlcolor   = blue,  % Colour for external hyperlinks
  linkcolor  = black  % Colour of internal links
}

% Permet d'avoir les numéros de (sub)sections dans la marge
% Tiré de "Latex Howtos" de Sébastien Combéfis
% -------------------------------------------------------------
\makeatletter
\def\@seccntformat#1{\protect\makebox[0pt][r]{\csname the#1\endcsname\quad}}
\makeatother

% Framed permet d'avoir du texte avec une barre à gauche
\usepackage{framed}
\colorlet{shadecolor}{gray!50}
\renewenvironment{leftbar}{%
  \def\FrameCommand{\textcolor{shadecolor}{\vrule width 1pt} \hspace{10pt}}%
  \MakeFramed {\advance\hsize-\width \FrameRestore}}%
{\endMakeFramed}

% Modification du style pour les captions des figures
\usepackage[font=scriptsize,labelfont=sc,position=below]{caption}

% Plus d'options pour les notes/icones en marge
\usepackage{marginnote}
\reversemarginpar

% Pour un plus beau style pour le titre de chapitre
\usepackage[Lenny]{fncychap}

% Pour avoir Ovalbox
\usepackage{fancybox}

% Un grand contrôle sur l'aspect des listes
% Note: bizarrement, \setlist ne fonctionne pas (\itemize avec options non plus) 
% (clash avec un autre package ?)
% -------------------------------------------------------------
\usepackage{enumitem}
\setdescription{font=\sffamily\bfseries, style=nextline, leftmargin=*}
% Environnement liste, alternative à itemize, plus aéré.
\newlist{liste}{itemize}{3}
\setlist[liste]{label=$\triangleright$,leftmargin=8mm,itemsep=1mm}

% Permet une numérotation des exercices
\newcounter{exercicenum}[chapter]
\setcounter{exercicenum}{0}

% Permet d'avoir des références plus lisibles 
% ex: cf. figure 1 page suivante.
% http://www.ctan.org/pkg/varioref
% -------------------------------------------------------------
\usepackage[french]{varioref}

% Gestion de l'entête et du pied de page
% http://www.ctan.org/pkg/fancyhdr
% -------------------------------------------------------------
\usepackage{fancyhdr}
\fancyhf{} % Enlever tout
\renewcommand{\headrulewidth}{0pt} % pas de ligne en entête
\fancyfoot[C]{\textcolor{gray}{---\ \thepage\ ---}}
\fancypagestyle{plain}{				% Redéfinir le style plain
	\fancyhf{} 						% Enlever tout
	\fancyfoot[C]{\textcolor{gray}{---\ \thepage\ ---}}
	\renewcommand{\headrulewidth}{0pt} % pas de ligne en entête
}

% ===================================================
%   Commandes et environnements
% ===================================================

% Met en évidence un ou des paragraphes
% titre en gras + barre grise à gauche
\newenvironment{Emphase}[1]{%
	\smallskip%
	\colorbox{gray!25}{\textbf{#1}}%
	\smallskip
	\begin{leftbar}
}{
	\end{leftbar}
	\smallskip
}

% Pour mettre une icone en marge
% Utilisation: \marginicon{nomIcone}
% L'icone doit être présente dans le dossier icon
% dans un format reconnu (pas de gif)
\newcommand{\marginicon}[1]{
	\marginnote{\includegraphics[width=25px]{icon/#1}}[5pt]
}

% Affiche un cadre coloré autour de texte, coloré aussi et en sansserif.
% Pour encadré numéro d'exercice, de tutoriel, ....
% -------------------------------------------------------------
\newcommand{\Cadre}[1]{{\sffamily\Ovalbox{#1}}}

% Pour un exercice avec numérotation automatique
\newenvironment{Exercice}[1]{%
	\refstepcounter{exercicenum}%
	\medskip
	{\color{MidnightBlue}\Cadre{\theexercicenum}}\quad%
	{\sffamily\bfseries#1}
	\medskip\\
	}{%
	}
